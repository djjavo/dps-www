<?php
class Day{
	protected $year;
	protected $month;
	protected $day;
	protected $events;
	public function __construct($year,$month,$day){
		$this->year = $year;
		$this->month = $month;
		$this->day = $day;
	}
	public function load_events(){
		if(is_null($this->events))	$this->events = array();
		
		$result	= RawDB::query("SELECT * FROM events WHERE starttime BETWEEN x and y OR endtime BETWEEN x and y ORDER BY");
		$array	= array();
		while($object = pg_fetch_object($result,null,'ScheduledEvent'))
			$this->append_event($object);
	}
	public function append_event($event){
		if(is_null($this->events))	$this->events = array();
		$this->events[] = $event;
	}
	public function get_events(){
		if(is_null($this->events))	$this.load_events();
		return $events;
	}
}
?>